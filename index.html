<!DOCTYPE html>
<html>
<head>
  <style>
    .liked {
      color: red;
    }
  </style>
</head>
<body>
  <div id="comments">

  </div>
  <button id="addComment">Добавить комментарий</button>

  <script>
    // Массив комментариев с предварительно сохраненной информацией
    const comments = [
      { text: 'Первый комментарий', liked: false },
      { text: 'Второй комментарий', liked: true },
      { text: 'Третий комментарий', liked: false }
    ];

    // Функция рендеринга для отрисовки списка комментариев
    function renderComments() {
      const commentsDiv = document.getElementById('comments');
      commentsDiv.innerHTML = '';

      // Отрисовка каждого комментария
      comments.forEach(comment => {
        const commentDiv = document.createElement('div');
        commentDiv.innerHTML = `
          <span>${comment.text}</span>
          <button class="${comment.liked ? 'liked' : ''}" data-index="${comments.indexOf(comment)}">Лайк</button>
          <span>${comment.liked ? '1' : '0'}</span>
        `;
        commentsDiv.appendChild(commentDiv);
      });
    }

    // Обработчик событий для кнопки лайка
    document.addEventListener('click', event => {
      if (event.target.tagName === 'BUTTON' && event.target.innerText === 'Лайк') {
        const index = event.target.getAttribute('data-index');
        comments[index].liked = !comments[index].liked;
        renderComments();
      }
    });

    // Обработчик событий для кнопки добавления нового комментария
    document.getElementById('addComment').addEventListener('click', () => {
      comments.push({ text: 'Новый комментарий', liked: false });
      renderComments();
    });

    // Первоначальная отрисовка списка комментариев
    renderComments();
  </script>
</body>
</html> 
